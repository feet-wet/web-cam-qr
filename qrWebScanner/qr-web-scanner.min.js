"use strict";var QRWebScanner=function(){var e=!1,t=!1,n=!1,i=!1,r=!1,o=!1,s=!1,a=!1,h=!1,f=!1,u=!1,w=!1,l={width:320,height:240,id:{appBox:"qrApp",inputFile:"qrInputFile"},elClass:{btnsBox:"qrBtns",btnCam:"qrBtnCam",btnImg:"qrBtnImg",videoBox:"qrVideo",canvasBox:"qrCanvas",resultBox:"qrResult"},btnCamBG:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAARuAAAEbgHQo7JoAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAALFQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgAGBgAGBQAFBAAEBAAEAwADAwADAwADAwADAwADAwADAwAFAwAFAgAFAgAFAgAEAgAEBAIEAwIDAwIDAwIDAwIDAwIDAwIFAwEEAwEEAwEEAwEEAwEEAwEEAwEEAwEEAwEEAgEEAgEEBAEEAwEDAwEFAwEEAwEEAwEEAwEEAwEEAwEEAwEEAwEEAwEEAwEEneEDTwAAADp0Uk5TAAEFDQ4RFhgaHCotLjhBRUpMTk9UXWFkbG96foGUl5iZnKGrrK6vsbK0vMLP0NXb4uTl5ufv+fr7/i/djPQAAAD+SURBVBgZvcHVcsIAFEXRTXGX4NKixYJL4fz/hzXDXEKAgUfWgg9KTha+SZJnSwUseZLSnRSPWrrT4kH5oDuHMibUWOmlVSNEQ0Gb8XijoAYr+Y7NOJ548yjfCvncNCbtyrNxfiWhq10UTyyGJ7qTNMSRhK6KQG0trWtAUdLfcCMJmRHQ0UUHGMkgU4e8TB7qMshk4UfmG7IyyIRhLjOHsAwyGejL9CEjg0wVKjIVqMog04XQTBezEHRlkDlmINKTpxeBzFEGXblfQKJUSgBfrq6QbxDFRAfyoZttgYvCVjecFLCfttvTvQJOLPTWAuesN84O5Abu4gV3kOMD/gGpEoZr1YvY2wAAAABJRU5ErkJggg==",btnImgBG:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABZwAAAWcBcp21pQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF1SURBVFiF7ZexSsRAEIa/iSkiVxwWonIq14hgoY0+gIhvYOcraGNndwdWtpYWgq8g2giCduILeCCneCAoaKuFMhZJIKy3Zo25rIULfzG7s/t/yewuiagqPlvg1f0vAAjQApqe/O8E8LoJvJcgNOJN4L0Cz700MEswrKpvg3QXkQh4TePSSyAigYg0XPNLBRCRNeAW6InIqYiMuszTjCJVpYiSh+ka6233yYuyOWW+gRFgyuibz5tUGoCqPgNHRveB01wcSgCEDmWoAxvAIbBiyYkMz3wAoAHcALNF90hhAGAIuEjGO0C9aoAdI+cECCoBAFaBDyNHgd0cky1g6VcAwATw2Mc81bqlXPvJ+AuwUAiA+HiefWOuxPf5YmbhGnBs5DwBc0UAWjnmqXrAODAGXFlyHoAZZwBg2VJ3my75egWbugeaLgDTCbGr+U/UBSbzAM4HZJ6qQ/z9aQWoQtfZ+P+j1DtACLTx+WOSnE1vzXsJvAN8AkFqiiajd3okAAAAAElFTkSuQmCC",imgProgressBarSRC:"data:image/gif;base64,R0lGODlhXgAPAKEDAJqamsXFxebm5v///yH/C05FVFNDQVBFMi4wAwEAAAAh/hVDcmVhdGVkIHdpdGggVGhlIEdJTVAAIfkEBQoAAwAsAAAAAF4ADwAAAoGcj6nL7Q+jnLTai7PeTfgPHuAoiORnnqWheul5APJMK+063C+5j33IasVoRJswqPqhkDAmz+kzAKbUqjEJBeaOW2y3+X0OqmTAFazLLsNRtjY9LlPPYride/fK54k8Gg/oBbc3RdfmVxf4p0do+KaYKAjZRmjGcYmZqbnJ2enpWQAAIfkEBQoAAwAsRAADABcACQAAAh+Ej6PB7QiBGq6GmJZt+MzNdZIGiiMFXuKXmmy5klsBACH5BAUKAAMALDcAAwAkAAkAAAI0hI+jwe06hJwUWQCdDpB6cSXL1nTfFB4ZyZgnmGIj656xPLCt8kr3SuP1fjNS7UPM6Y6eAgAh+QQFCgADACwqAAMAJAAJAAACNISPo8HtOoScFFkAnQ6QenEly9Z03xQeGcmYJ5hiI+uesTywrfJK90rj9X4zUu1DzOmOngIAIfkEBQoAAwAsHQADACQACQAAAjSEj6PB7TqEnBRZAJ0OkHpxJcvWdN8UHhnJmCeYYiPrnrE8sK3ySvdK4/V+M1LtQ8zpjp4CACH5BAUKAAMALBAAAwAkAAkAAAI0hI+jwe06hJwUWQCdDpB6cSXL1nTfFB4ZyZgnmGIj656xPLCt8kr3SuP1fjNS7UPM6Y6eAgAh+QQFCgADACwDAAMAJAAJAAACLYSPo8LtOpwUqAI438rMps1hHOUZYghmpZlOp7q+biutF61Foy1LvcPDNX6NAgAh+QQFCgADACwDAAMAFwAJAAACH4yPo8DtCIMaroKYlm34zM11kgaKIwVe4peabLmSWwEAIfkEBQoAAwAsAwADACQACQAAAjSUj6PB7TqAnBRZAZ0OkHpwJcvWdN8UHhnJmCeYYiPrnrE8sK3ySvdK4/V+M1LtQ8zpjp4CACH5BAUKAAMALBAAAwAkAAkAAAI0lI+jwe06gJwUWQGdDpB6cCXL1nTfFB4ZyZgnmGIj656xPLCt8kr3SuP1fjNS7UPM6Y6eAgAh+QQFCgADACwdAAMAJAAJAAACNJSPo8HtOoCcFFkBnQ6QenAly9Z03xQeGcmYJ5hiI+uesTywrfJK90rj9X4zUu1DzOmOngIAIfkEBQoAAwAsKgADACQACQAAAjSUj6PB7TqAnBRZAZ0OkHpwJcvWdN8UHhnJmCeYYiPrnrE8sK3ySvdK4/V+M1LtQ8zpjp4CACH5BAEKAAMALDcAAwAkAAkAAAI0lI+jwe06gJwUWQGdDpB6cCXL1nTfFB4ZyZgnmGIj656xPLCt8kr3SuP1fjNS7UPM6Y6eAgA7",imageFileType:["image/png","image/jpg","image/jpeg","image/bmp"]},c=function(e,t){return e.container?(l.width=e.width||l.width,l.height=e.height||l.height,A.appBox(e.container),A.btnsBox(),A.videoBox(),A.canvasBox(),A.resultBox(),A.progressBar(),m.init(),p.start(),void(t&&"function"==typeof t&&(o=function(){t(r)}))):"Incorrect data or something is wrong"},d={appBox:function(t){e=t},videoBox:function(e){n=e},canvasBox:function(e){t=e},resultBox:function(e){i=e},btnsBox:function(e){s=e},btnCam:function(e){a=e},btnImg:function(e){h=e},inputFile:function(e){f=e},labelFile:function(e){u=e},imgProgressBar:function(e){w=e}},g={appBox:function(){return e},videoBox:function(){return n},canvasBox:function(){return t},resultBox:function(){return i},btnsBox:function(){return s},btnCam:function(){return a},btnImg:function(){return h},inputFile:function(){return f},labelFile:function(){return u},imgProgressBar:function(){return w}},A={element:function(e,t){var n=document.createElement(e);n.width=l.width,n.height=l.height,n.show=function(){this.style.display="block"},n.hide=function(){this.style.display="none"},n.setOpacity=function(e){this.style.opacity=e},void 0!==t&&t(n)},appBox:function(e){A.element("div",function(t){d.appBox(t),g.appBox().id=l.id.appBox,document.querySelector(e).appendChild(g.appBox())})},videoBox:function(){A.element("video",function(t){d.videoBox(t),g.videoBox().className=l.elClass.videoBox,g.videoBox().autoplay="autoplay",e.appendChild(t)})},canvasBox:function(){A.element("canvas",function(t){d.canvasBox(t),g.canvasBox().className=l.elClass.canvasBox,v.setSize(),e.appendChild(t)})},btnsBox:function(){A.element("div",function(t){d.btnsBox(t),g.btnsBox().className=l.elClass.btnsBox,e.appendChild(t),A.btnCam(),A.btnImg(),A.inputFile(),A.labelFile()})},btnCam:function(){A.element("div",function(e){d.btnCam(e),g.btnCam().className=l.elClass.btnCam,g.btnCam().title="Scan from WebCam",g.btnCam().style.backgroundImage="url("+l.btnCamBG+")",g.btnCam().onclick=function(){g.videoBox().show(),g.labelFile().hide(),g.canvasBox().hide(),g.btnImg().setOpacity(.5),g.btnCam().setOpacity(.8),v.setSize(),m.state&&(B.clearBox(),p.start(),b.state=!0,b.start(g.videoBox())),m.state=!0},s.appendChild(e)})},btnImg:function(){A.element("div",function(e){d.btnImg(e),g.btnImg().className=l.elClass.btnImg,g.btnImg().title="Scan from uploading image",g.btnImg().style.backgroundImage="url("+l.btnImgBG+")",g.btnImg().onclick=function(){b.stop(),g.videoBox().hide(),g.btnImg().setOpacity(.8),g.btnCam().setOpacity(.5),g.canvasBox().show(),g.labelFile().show(),g.canvasBox().width=l.width,g.canvasBox().height=l.height,B.clearBox(),m.state=!1},s.appendChild(e)})},inputFile:function(){A.element("input",function(e){d.inputFile(e),g.inputFile().id=l.id.inputFile,g.inputFile().type="file",g.inputFile().width="",g.inputFile().height="",g.inputFile().onchange=function(){C.accept(this.files[0])},s.appendChild(e)})},labelFile:function(){A.element("label",function(e){d.labelFile(e),g.labelFile().htmlFor=g.inputFile().id,g.labelFile().innerHTML="Upload",s.appendChild(e)})},resultBox:function(){A.element("div",function(t){d.resultBox(t),g.resultBox().className=l.elClass.resultBox,g.resultBox().style.width=l.width,e.appendChild(t)})},progressBar:function(){A.element("img",function(e){d.imgProgressBar(e),g.imgProgressBar().removeAttribute="width",g.imgProgressBar().removeAttribute="height",g.imgProgressBar().style.width="auto",g.imgProgressBar().style.height="auto",g.imgProgressBar().src=l.imgProgressBarSRC,g.imgProgressBar().alt="- scanning -"})}},m={state:!1,init:function(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.URL.createObjectURL=window.URL.createObjectURL||window.URL.webkitCreateObjectURL||window.URL.mozCreateObjectURL||window.URL.msCreateObjectURL,navigator.getUserMedia({video:!0},function(e){g.videoBox().src=window.URL.createObjectURL(e),v.captureImage(g.videoBox()),m.state=!0},function(){console.log("With the video stream that something is wrong or the user banned :P")})}},v={captureImage:function(e){setTimeout(function(){v.drawImage(e),v.decode(e)},500)},drawImage:function(e){g.canvasBox().getContext("2d").drawImage(e,0,0,l.width,l.height)},decode:function(e){b.image(g.canvasBox().toDataURL("image/jpg"),e)},clear:function(){g.canvasBox().getContext("2d").clearRect(0,0,l.width,l.width)},setSize:function(){g.canvasBox().width="640",g.canvasBox().height="480"}},b={state:!0,start:function(e){QRWebScannerEngine.qrcode.currentStatus=void 0,v.captureImage(e)},stop:function(){b.state=!1,setTimeout(v.clear,500),B.clear()},image:function(e,t){QRWebScannerEngine.qrcode.decode(e),b.check(t)},check:function(e){b.state&&(QRWebScannerEngine.qrcode.currentStatus&&QRWebScannerEngine.qrcode.result?(r=QRWebScannerEngine.qrcode.result,B.insert(QRWebScannerEngine.qrcode.result)):v.captureImage(e))}},C={accept:function(e){b.state=!0,v.clear(),B.clearBox();var t=l.imageFileType.join(", ");if(t.indexOf(e.type)+1){p.start();var n=new Image,i=new FileReader;i.onload=function(){n.src=i.result,v.captureImage(n)},i.readAsDataURL(e)}else B.insert("File must be png, jpg or bmp type")}},p={start:function(){g.resultBox().appendChild(g.imgProgressBar())}},B={insert:function(e){B.clearBox(),"string"==typeof e&&(g.resultBox().innerHTML=B.checkForLink(e)),o(),B.clear()},checkForLink:function(e){return 0===e.indexOf("http://")||0===e.indexOf("https://")?'<a target="_blank" href="'+e+'">'+e+"</a>":e},clearBox:function(){g.resultBox().innerHTML=""},clear:function(){setTimeout(function(){QRWebScannerEngine.qrcode.result=""},500)}};return{init:c}}(),QRWebScannerEngine=function(){function e(){return[new f(1,[],new h(7,new a(1,19)),new h(10,new a(1,16)),new h(13,new a(1,13)),new h(17,new a(1,9))),new f(2,[6,18],new h(10,new a(1,34)),new h(16,new a(1,28)),new h(22,new a(1,22)),new h(28,new a(1,16))),new f(3,[6,22],new h(15,new a(1,55)),new h(26,new a(1,44)),new h(18,new a(2,17)),new h(22,new a(2,13))),new f(4,[6,26],new h(20,new a(1,80)),new h(18,new a(2,32)),new h(26,new a(2,24)),new h(16,new a(4,9))),new f(5,[6,30],new h(26,new a(1,108)),new h(24,new a(2,43)),new h(18,new a(2,15),new a(2,16)),new h(22,new a(2,11),new a(2,12))),new f(6,[6,34],new h(18,new a(2,68)),new h(16,new a(4,27)),new h(24,new a(4,19)),new h(28,new a(4,15))),new f(7,[6,22,38],new h(20,new a(2,78)),new h(18,new a(4,31)),new h(18,new a(2,14),new a(4,15)),new h(26,new a(4,13),new a(1,14))),new f(8,[6,24,42],new h(24,new a(2,97)),new h(22,new a(2,38),new a(2,39)),new h(22,new a(4,18),new a(2,19)),new h(26,new a(4,14),new a(2,15))),new f(9,[6,26,46],new h(30,new a(2,116)),new h(22,new a(3,36),new a(2,37)),new h(20,new a(4,16),new a(4,17)),new h(24,new a(4,12),new a(4,13))),new f(10,[6,28,50],new h(18,new a(2,68),new a(2,69)),new h(26,new a(4,43),new a(1,44)),new h(24,new a(6,19),new a(2,20)),new h(28,new a(6,15),new a(2,16))),new f(11,[6,30,54],new h(20,new a(4,81)),new h(30,new a(1,50),new a(4,51)),new h(28,new a(4,22),new a(4,23)),new h(24,new a(3,12),new a(8,13))),new f(12,[6,32,58],new h(24,new a(2,92),new a(2,93)),new h(22,new a(6,36),new a(2,37)),new h(26,new a(4,20),new a(6,21)),new h(28,new a(7,14),new a(4,15))),new f(13,[6,34,62],new h(26,new a(4,107)),new h(22,new a(8,37),new a(1,38)),new h(24,new a(8,20),new a(4,21)),new h(22,new a(12,11),new a(4,12))),new f(14,[6,26,46,66],new h(30,new a(3,115),new a(1,116)),new h(24,new a(4,40),new a(5,41)),new h(20,new a(11,16),new a(5,17)),new h(24,new a(11,12),new a(5,13))),new f(15,[6,26,48,70],new h(22,new a(5,87),new a(1,88)),new h(24,new a(5,41),new a(5,42)),new h(30,new a(5,24),new a(7,25)),new h(24,new a(11,12),new a(7,13))),new f(16,[6,26,50,74],new h(24,new a(5,98),new a(1,99)),new h(28,new a(7,45),new a(3,46)),new h(24,new a(15,19),new a(2,20)),new h(30,new a(3,15),new a(13,16))),new f(17,[6,30,54,78],new h(28,new a(1,107),new a(5,108)),new h(28,new a(10,46),new a(1,47)),new h(28,new a(1,22),new a(15,23)),new h(28,new a(2,14),new a(17,15))),new f(18,[6,30,56,82],new h(30,new a(5,120),new a(1,121)),new h(26,new a(9,43),new a(4,44)),new h(28,new a(17,22),new a(1,23)),new h(28,new a(2,14),new a(19,15))),new f(19,[6,30,58,86],new h(28,new a(3,113),new a(4,114)),new h(26,new a(3,44),new a(11,45)),new h(26,new a(17,21),new a(4,22)),new h(26,new a(9,13),new a(16,14))),new f(20,[6,34,62,90],new h(28,new a(3,107),new a(5,108)),new h(26,new a(3,41),new a(13,42)),new h(30,new a(15,24),new a(5,25)),new h(28,new a(15,15),new a(10,16))),new f(21,[6,28,50,72,94],new h(28,new a(4,116),new a(4,117)),new h(26,new a(17,42)),new h(28,new a(17,22),new a(6,23)),new h(30,new a(19,16),new a(6,17))),new f(22,[6,26,50,74,98],new h(28,new a(2,111),new a(7,112)),new h(28,new a(17,46)),new h(30,new a(7,24),new a(16,25)),new h(24,new a(34,13))),new f(23,[6,30,54,74,102],new h(30,new a(4,121),new a(5,122)),new h(28,new a(4,47),new a(14,48)),new h(30,new a(11,24),new a(14,25)),new h(30,new a(16,15),new a(14,16))),new f(24,[6,28,54,80,106],new h(30,new a(6,117),new a(4,118)),new h(28,new a(6,45),new a(14,46)),new h(30,new a(11,24),new a(16,25)),new h(30,new a(30,16),new a(2,17))),new f(25,[6,32,58,84,110],new h(26,new a(8,106),new a(4,107)),new h(28,new a(8,47),new a(13,48)),new h(30,new a(7,24),new a(22,25)),new h(30,new a(22,15),new a(13,16))),new f(26,[6,30,58,86,114],new h(28,new a(10,114),new a(2,115)),new h(28,new a(19,46),new a(4,47)),new h(28,new a(28,22),new a(6,23)),new h(30,new a(33,16),new a(4,17))),new f(27,[6,34,62,90,118],new h(30,new a(8,122),new a(4,123)),new h(28,new a(22,45),new a(3,46)),new h(30,new a(8,23),new a(26,24)),new h(30,new a(12,15),new a(28,16))),new f(28,[6,26,50,74,98,122],new h(30,new a(3,117),new a(10,118)),new h(28,new a(3,45),new a(23,46)),new h(30,new a(4,24),new a(31,25)),new h(30,new a(11,15),new a(31,16))),new f(29,[6,30,54,78,102,126],new h(30,new a(7,116),new a(7,117)),new h(28,new a(21,45),new a(7,46)),new h(30,new a(1,23),new a(37,24)),new h(30,new a(19,15),new a(26,16))),new f(30,[6,26,52,78,104,130],new h(30,new a(5,115),new a(10,116)),new h(28,new a(19,47),new a(10,48)),new h(30,new a(15,24),new a(25,25)),new h(30,new a(23,15),new a(25,16))),new f(31,[6,30,56,82,108,134],new h(30,new a(13,115),new a(3,116)),new h(28,new a(2,46),new a(29,47)),new h(30,new a(42,24),new a(1,25)),new h(30,new a(23,15),new a(28,16))),new f(32,[6,34,60,86,112,138],new h(30,new a(17,115)),new h(28,new a(10,46),new a(23,47)),new h(30,new a(10,24),new a(35,25)),new h(30,new a(19,15),new a(35,16))),new f(33,[6,30,58,86,114,142],new h(30,new a(17,115),new a(1,116)),new h(28,new a(14,46),new a(21,47)),new h(30,new a(29,24),new a(19,25)),new h(30,new a(11,15),new a(46,16))),new f(34,[6,34,62,90,118,146],new h(30,new a(13,115),new a(6,116)),new h(28,new a(14,46),new a(23,47)),new h(30,new a(44,24),new a(7,25)),new h(30,new a(59,16),new a(1,17))),new f(35,[6,30,54,78,102,126,150],new h(30,new a(12,121),new a(7,122)),new h(28,new a(12,47),new a(26,48)),new h(30,new a(39,24),new a(14,25)),new h(30,new a(22,15),new a(41,16))),new f(36,[6,24,50,76,102,128,154],new h(30,new a(6,121),new a(14,122)),new h(28,new a(6,47),new a(34,48)),new h(30,new a(46,24),new a(10,25)),new h(30,new a(2,15),new a(64,16))),new f(37,[6,28,54,80,106,132,158],new h(30,new a(17,122),new a(4,123)),new h(28,new a(29,46),new a(14,47)),new h(30,new a(49,24),new a(10,25)),new h(30,new a(24,15),new a(46,16))),new f(38,[6,32,58,84,110,136,162],new h(30,new a(4,122),new a(18,123)),new h(28,new a(13,46),new a(32,47)),new h(30,new a(48,24),new a(14,25)),new h(30,new a(42,15),new a(32,16))),new f(39,[6,26,54,82,110,138,166],new h(30,new a(20,117),new a(4,118)),new h(28,new a(40,47),new a(7,48)),new h(30,new a(43,24),new a(22,25)),new h(30,new a(10,15),new a(67,16))),new f(40,[6,30,58,86,114,142,170],new h(30,new a(19,118),new a(6,119)),new h(28,new a(18,47),new a(31,48)),new h(30,new a(34,24),new a(34,25)),new h(30,new a(20,15),new a(61,16)))]}function t(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}var n=3,i=57,r=8,o=2,s={checkAndNudgePoints:function(e,t){function n(e){var n=Math.floor(t[e]),i=Math.floor(t[e+1]);if(-1>n||n>r||-1>i||i>o)throw"Error.checkAndNudgePoints ";s=!1,-1==n?(t[e]=0,s=!0):n==r&&(t[e]=r-1,s=!0),-1==i?(t[e+1]=0,s=!0):i==o&&(t[e+1]=o-1,s=!0)}var i,r=T.width,o=T.height,s=!0;for(i=0;i<t.length&&s;i+=2)n(i);for(s=!0,i=t.length-2;i>=0&&s;i-=2)n(i)},sampleGrid3:function(e,t,n){for(var i=new M(t),r=new Array(t<<1),o=0;t>o;o++){for(var a=r.length,h=o+.5,f=0;a>f;f+=2)r[f]=(f>>1)+.5,r[f+1]=h;n.transformPoints1(r),s.checkAndNudgePoints(e,r);try{for(var u=0;a>u;u+=2){var w=4*Math.floor(r[u])+Math.floor(r[u+1])*T.width*4,l=e[Math.floor(r[u])+T.width*Math.floor(r[u+1])];T.imagedata.data[w]=l?255:0,T.imagedata.data[w+1]=l?255:0,T.imagedata.data[w+2]=0,T.imagedata.data[w+3]=255,l&&i.set_Renamed(u>>1,o)}}catch(c){throw"Error.checkAndNudgePoints"}}return i},sampleGridx:function(e,t,n,i,r,o,a,h,f,w,l,c,d,g,A,m,v,b){var C=u.quadrilateralToQuadrilateral(n,i,r,o,a,h,f,w,l,c,d,g,A,m,v,b);return s.sampleGrid3(e,t,C)}},a=function(e,t){this.count=e,this.dataCodewords=t,this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("DataCodewords",function(){return this.dataCodewords})},h=function(e,t,n){this.ecCodewordsPerBlock=e,this.ecBlocks=n?[t,n]:[t],this.__defineGetter__("ECCodewordsPerBlock",function(){return this.ecCodewordsPerBlock}),this.__defineGetter__("TotalECCodewords",function(){return this.ecCodewordsPerBlock*this.NumBlocks}),this.__defineGetter__("NumBlocks",function(){for(var e=0,t=0;t<this.ecBlocks.length;t++)e+=this.ecBlocks[t].length;return e}),this.getECBlocks=function(){return this.ecBlocks}},f=function(e,t,n,i,r,o){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=[n,i,r,o];for(var s=0,a=n.ECCodewordsPerBlock,h=n.getECBlocks(),f=0;f<h.length;f++){var u=h[f];s+=u.Count*(u.DataCodewords+a)}this.totalCodewords=s,this.__defineGetter__("VersionNumber",function(){return this.versionNumber}),this.__defineGetter__("AlignmentPatternCenters",function(){return this.alignmentPatternCenters}),this.__defineGetter__("TotalCodewords",function(){return this.totalCodewords}),this.__defineGetter__("DimensionForVersion",function(){return 17+4*this.versionNumber}),this.buildFunctionPattern=function(){var e=this.DimensionForVersion,t=new M(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;n>i;i++)for(var r=this.alignmentPatternCenters[i]-2,o=0;n>o;o++)0==i&&(0==o||o==n-1)||i==n-1&&0==o||t.setRegion(this.alignmentPatternCenters[o]-2,r,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},this.getECBlocksForLevel=function(e){return this.ecBlocks[e.ordinal()]}};f.VERSION_DECODE_INFO=[31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017],f.VERSIONS=e(),f.getVersionForNumber=function(e){if(1>e||e>40)throw"ArgumentException";return f.VERSIONS[e-1]},f.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw"Error getProvisionalVersionForDimension";try{return f.getVersionForNumber(e-17>>2)}catch(t){throw"Error getVersionForNumber"}},f.decodeVersionInformation=function(e){for(var t=4294967295,n=0,i=0;i<f.VERSION_DECODE_INFO.length;i++){var r=f.VERSION_DECODE_INFO[i];if(r==e)return this.getVersionForNumber(i+7);var o=A.numBitsDiffering(e,r);t>o&&(n=i+7,t=o)}return 3>=t?this.getVersionForNumber(n):null};var u=function(e,t,n,i,r,o,s,a,h){this.a11=e,this.a12=i,this.a13=s,this.a21=t,this.a22=r,this.a23=a,this.a31=n,this.a32=o,this.a33=h,this.transformPoints1=function(e){for(var t=e.length,n=this.a11,i=this.a12,r=this.a13,o=this.a21,s=this.a22,a=this.a23,h=this.a31,f=this.a32,u=this.a33,w=0;t>w;w+=2){var l=e[w],c=e[w+1],d=r*l+a*c+u;e[w]=(n*l+o*c+h)/d,e[w+1]=(i*l+s*c+f)/d}},this.transformPoints2=function(e,t){for(var n=e.length,i=0;n>i;i++){var r=e[i],o=t[i],s=this.a13*r+this.a23*o+this.a33;e[i]=(this.a11*r+this.a21*o+this.a31)/s,t[i]=(this.a12*r+this.a22*o+this.a32)/s}},this.buildAdjoint=function(){return new u(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(e){return new u(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}};u.quadrilateralToQuadrilateral=function(e,t,n,i,r,o,s,a,h,f,u,w,l,c,d,g){var A=this.quadrilateralToSquare(e,t,n,i,r,o,s,a),m=this.squareToQuadrilateral(h,f,u,w,l,c,d,g);return m.times(A)},u.squareToQuadrilateral=function(e,t,n,i,r,o,s,a){var h=a-o,f=t-i+o-a;if(0==h&&0==f)return new u(n-e,r-n,e,i-t,o-i,t,0,0,1);var w=n-r,l=s-r,c=e-n+r-s,d=i-o,g=w*h-l*d,A=(c*h-l*f)/g,m=(w*f-c*d)/g;return new u(n-e+A*n,s-e+m*s,e,i-t+A*i,a-t+m*a,t,A,m,1)},u.quadrilateralToSquare=function(e,t,n,i,r,o,s,a){return this.squareToQuadrilateral(e,t,n,i,r,o,s,a).buildAdjoint()};var w=function(e,t){this.bits=e,this.points=t},l=function(e){this.image=e,this.resultPointCallback=null,this.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var r=Math.abs(i-t)>Math.abs(n-e);if(r){var o=e;e=t,t=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),a=Math.abs(i-t),h=-s>>1,f=i>t?1:-1,u=n>e?1:-1,w=0,l=e,c=t;l!=n;l+=u){var d=r?c:l,g=r?l:c;if(1==w?this.image[d+g*T.width]&&w++:this.image[d+g*T.width]||w++,3==w){var A=l-e,m=c-t;return Math.sqrt(A*A+m*m)}if(h+=a,h>0){if(c==i)break;c+=f,h-=s}}var v=n-e,b=i-t;return Math.sqrt(v*v+b*b)},this.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var r=this.sizeOfBlackWhiteBlackRun(e,t,n,i),o=1,s=e-(n-e);0>s?(o=e/(e-s),s=0):s>=T.width&&(o=(T.width-1-e)/(s-e),s=T.width-1);var a=Math.floor(t-(i-t)*o);return o=1,0>a?(o=t/(t-a),a=0):a>=T.height&&(o=(T.height-1-t)/(a-t),a=T.height-1),s=Math.floor(e+(s-e)*o),r+=this.sizeOfBlackWhiteBlackRun(e,t,s,a),r-1},this.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},this.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},this.distance=function(e,t){var n=e.X-t.X,i=e.Y-t.Y;return Math.sqrt(n*n+i*i)},this.computeDimension=function(e,t,n,i){var r=Math.round(this.distance(e,t)/i),o=Math.round(this.distance(e,n)/i),s=(r+o>>1)+7;switch(3&s){case 0:s++;break;case 2:s--;break;case 3:throw"Error"}return s},this.findAlignmentInRegion=function(e,t,n,i){var r=Math.floor(i*e),o=Math.max(0,t-r),s=Math.min(T.width-1,t+r);if(3*e>s-o)throw"Error";var a=Math.max(0,n-r),h=Math.min(T.height-1,n+r),f=new j(this.image,o,a,s-o,h-a,e,this.resultPointCallback);return f.find()},this.createTransform=function(e,t,n,i,r){var o,s,a,h,f=r-3.5;return null!=i?(o=i.X,s=i.Y,a=h=f-3):(o=t.X-e.X+n.X,s=t.Y-e.Y+n.Y,a=h=f),u.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,a,h,3.5,f,e.X,e.Y,t.X,t.Y,o,s,n.X,n.Y)},this.sampleGrid=function(e,t,n){return s.sampleGrid3(e,n,t)},this.processFinderPatternInfo=function(e){var t=e.TopLeft,n=e.TopRight,i=e.BottomLeft,r=this.calculateModuleSize(t,n,i);if(1>r)throw"Error";var o=this.computeDimension(t,n,i,r),s=f.getProvisionalVersionForDimension(o),a=s.DimensionForVersion-7,h=null;if(s.AlignmentPatternCenters.length>0)for(var u=n.X-t.X+i.X,l=n.Y-t.Y+i.Y,c=1-3/a,d=Math.floor(t.X+c*(u-t.X)),g=Math.floor(t.Y+c*(l-t.Y)),A=4;16>=A;A<<=1){h=this.findAlignmentInRegion(r,d,g,A);break}var m,v=this.createTransform(t,n,i,h,o),b=this.sampleGrid(this.image,v,o);return m=null==h?[i,t,n]:[i,t,n,h],new w(b,m)},this.detect=function(){var e=(new V).findFinderPattern(this.image);return this.processFinderPatternInfo(e)}},c=21522,d=[[21522,0],[20773,1],[24188,2],[23371,3],[17913,4],[16590,5],[20375,6],[19104,7],[30660,8],[29427,9],[32170,10],[30877,11],[26159,12],[25368,13],[27713,14],[26998,15],[5769,16],[5054,17],[7399,18],[6608,19],[1890,20],[597,21],[3340,22],[2107,23],[13663,24],[12392,25],[16177,26],[14854,27],[9396,28],[8579,29],[11994,30],[11245,31]],g=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4],A=function(e){this.errorCorrectionLevel=m.forBits(e>>3&3),this.dataMask=7&e,this.__defineGetter__("ErrorCorrectionLevel",function(){return this.errorCorrectionLevel}),this.__defineGetter__("DataMask",function(){return this.dataMask}),this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|dataMask},this.Equals=function(e){var t=e;return this.errorCorrectionLevel==t.errorCorrectionLevel&&this.dataMask==t.dataMask}};A.numBitsDiffering=function(e,n){return e^=n,g[15&e]+g[15&t(e,4)]+g[15&t(e,8)]+g[15&t(e,12)]+g[15&t(e,16)]+g[15&t(e,20)]+g[15&t(e,24)]+g[15&t(e,28)]},A.decodeFormatInformation=function(e){var t=A.doDecodeFormatInformation(e);return null!=t?t:A.doDecodeFormatInformation(e^c)},A.doDecodeFormatInformation=function(e){for(var t=4294967295,n=0,i=0;i<d.length;i++){var r=d[i],o=r[0];if(o==e)return new A(r[1]);var s=this.numBitsDiffering(e,o);t>s&&(n=r[1],t=s)}return 3>=t?new A(n):null};var m=function(e,t,n){this.ordinal_Renamed_Field=e,this.bits=t,this.name=n,this.__defineGetter__("Bits",function(){return this.bits}),this.__defineGetter__("Name",function(){return this.name}),this.ordinal=function(){return this.ordinal_Renamed_Field}};m.forBits=function(e){if(0>e||e>=B.length)throw"ArgumentException";return B[e]};var v=new m(0,1,"L"),b=new m(1,0,"M"),C=new m(2,3,"Q"),p=new m(3,2,"H"),B=[b,v,p,C],M=function(e,n){if(n||(n=e),1>e||1>n)throw"Both dimensions must be greater than 0";this.width=e,this.height=n;var i=e>>5;0!=(31&e)&&i++,this.rowSize=i,this.bits=new Array(i*n);for(var r=0;r<this.bits.length;r++)this.bits[r]=0;this.__defineGetter__("Width",function(){return this.width}),this.__defineGetter__("Height",function(){return this.height}),this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}),this.get_Renamed=function(e,n){var i=n*this.rowSize+(e>>5);return 0!=(1&t(this.bits[i],31&e))},this.set_Renamed=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]|=1<<(31&e)},this.flip=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]^=1<<(31&e)},this.clear=function(){for(var e=this.bits.length,t=0;e>t;t++)this.bits[t]=0},this.setRegion=function(e,t,n,i){if(0>t||0>e)throw"Left and top must be nonnegative";if(1>i||1>n)throw"Height and width must be at least 1";var r=e+n,o=t+i;if(o>this.height||r>this.width)throw"The region must fit inside the matrix";for(var s=t;o>s;s++)for(var a=s*this.rowSize,h=e;r>h;h++)this.bits[a+(h>>5)]|=1<<(31&h)}},k=function(e,t){this.numDataCodewords=e,this.codewords=t,this.__defineGetter__("NumDataCodewords",function(){return this.numDataCodewords}),this.__defineGetter__("Codewords",function(){return this.codewords})};k.getDataBlocks=function(e,t,n){if(e.length!=t.TotalCodewords)throw"ArgumentException";for(var i=t.getECBlocksForLevel(n),r=0,o=i.getECBlocks(),s=0;s<o.length;s++)r+=o[s].Count;for(var a=[r],h=0,f=0;f<o.length;f++)for(var u=o[f],w=0;w<u.Count;w++){var l=u.DataCodewords,c=i.ECCodewordsPerBlock+l;a[h++]=new k(l,new Array(c))}for(var d=a[0].codewords.length,g=a.length-1;g>=0;){var A=a[g].codewords.length;if(A==d)break;g--}g++;for(var m=d-i.ECCodewordsPerBlock,v=0,b=0;m>b;b++)for(var C=0;h>C;C++)a[C].codewords[b]=e[v++];for(var p=g;h>p;p++)a[p].codewords[m]=e[v++];var B=a[0].codewords.length;for(s=m;B>s;s++)for(var M=0;h>M;M++){var E=g>M?s:s+1;a[M].codewords[E]=e[v++]}return a};var E=function(e){var t=e.Dimension;if(21>t||1!=(3&t))throw"Error BitMatrixParser";this.bitMatrix=e,this.parsedVersion=null,this.parsedFormatInfo=null,this.copyBit=function(e,t,n){return this.bitMatrix.get_Renamed(e,t)?n<<1|1:n<<1},this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;6>t;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);if(this.parsedFormatInfo=A.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var i=this.bitMatrix.Dimension,r=i-8;e=0;for(var o=i-1;o>=r;o--)e=this.copyBit(o,8,e);for(var s=i-7;i>s;s++)e=this.copyBit(8,s,e);if(this.parsedFormatInfo=A.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.Dimension,t=e-17>>2;if(6>=t)return f.getVersionForNumber(t);for(var n=0,i=e-11,r=5;r>=0;r--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,r,n);if(this.parsedVersion=f.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;n=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)n=this.copyBit(s,a,n);if(this.parsedVersion=f.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;throw"Error readVersion"},this.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=_.forReference(e.DataMask),i=this.bitMatrix.Dimension;n.unmaskBitMatrix(this.bitMatrix,i);for(var r=t.buildFunctionPattern(),o=!0,s=new Array(t.TotalCodewords),a=0,h=0,f=0,u=i-1;u>0;u-=2){6==u&&u--;for(var w=0;i>w;w++)for(var l=o?i-1-w:w,c=0;2>c;c++)r.get_Renamed(u-c,l)||(f++,h<<=1,this.bitMatrix.get_Renamed(u-c,l)&&(h|=1),8==f&&(s[a++]=h,f=0,h=0));o^=!0}if(a!=t.TotalCodewords)throw"Error readCodewords";return s}},_={forReference:function(e){if(0>e||e>7)throw"System.ArgumentException";return _.DATA_MASKS[e]}},P=function(){this.unmaskBitMatrix=function(e,t){for(var n=0;t>n;n++)for(var i=0;t>i;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return 0==(e+t&1)}},S=function(){this.unmaskBitMatrix=function(e,t){for(var n=0;t>n;n++)for(var i=0;t>i;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e){return 0==(1&e)}},y=function(){this.unmaskBitMatrix=function(e,t){for(var n=0;t>n;n++)for(var i=0;t>i;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return t%3==0}},x=function(){this.unmaskBitMatrix=function(e,t){for(var n=0;t>n;n++)for(var i=0;t>i;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return(e+t)%3==0}},F=function(){this.unmaskBitMatrix=function(e,t){for(var n=0;t>n;n++)for(var i=0;t>i;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,n){return 0==(t(e,1)+n/3&1)}},I=function(){this.unmaskBitMatrix=function(e,t){for(var n=0;t>n;n++)for(var i=0;t>i;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){var n=e*t;return(1&n)+n%3==0}},D=function(){this.unmaskBitMatrix=function(e,t){for(var n=0;t>n;n++)for(var i=0;t>i;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){var n=e*t;return 0==((1&n)+n%3&1)}},R=function(){this.unmaskBitMatrix=function(e,t){for(var n=0;t>n;n++)for(var i=0;t>i;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return 0==((e+t&1)+e*t%3&1)}};_.DATA_MASKS=[new P,new S,new y,new x,new F,new I,new D,new R];var G=function(e){this.field=e,this.decode=function(e,t){for(var n=new L(this.field,e),i=new Array(t),r=0;r<i.length;r++)i[r]=0;for(var o=!1,s=!0,a=0;t>a;a++){var h=n.evaluateAt(this.field.exp(o?a+1:a));i[i.length-1-a]=h,0!=h&&(s=!1)}if(!s)for(var f=new L(this.field,i),u=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),f,t),w=u[0],l=u[1],c=this.findErrorLocations(w),d=this.findErrorMagnitudes(l,c,o),g=0;g<c.length;g++){var A=e.length-1-this.field.log(c[g]);if(0>A)throw"ReedSolomonException Bad error location";e[A]=N.addOrSubtract(e[A],d[g])}},this.runEuclideanAlgorithm=function(e,t,n){if(e.Degree<t.Degree){var i=e;e=t,t=i}for(var r=e,o=t,s=this.field.One,a=this.field.Zero,h=this.field.Zero,f=this.field.One;o.Degree>=Math.floor(n/2);){var u=r,w=s,l=h;if(r=o,s=a,h=f,r.Zero)throw"r_{i-1} was zero";o=u;for(var c=this.field.Zero,d=r.getCoefficient(r.Degree),g=this.field.inverse(d);o.Degree>=r.Degree&&!o.Zero;){var A=o.Degree-r.Degree,m=this.field.multiply(o.getCoefficient(o.Degree),g);
c=c.addOrSubtract(this.field.buildMonomial(A,m)),o=o.addOrSubtract(r.multiplyByMonomial(A,m))}a=c.multiply1(s).addOrSubtract(w),f=c.multiply1(h).addOrSubtract(l)}var v=f.getCoefficient(0);if(0==v)throw"ReedSolomonException sigmaTilde(0) was zero";var b=this.field.inverse(v),C=f.multiply2(b),p=o.multiply2(b);return[C,p]},this.findErrorLocations=function(e){var t=e.Degree;if(1==t)return[e.getCoefficient(1)];for(var n=[t],i=0,r=1;256>r&&t>i;r++)0==e.evaluateAt(r)&&(n[i]=this.field.inverse(r),i++);if(i!=t)throw"Error locator degree does not match number of roots";return n},this.findErrorMagnitudes=function(e,t,n){for(var i=t.length,r=[i],o=0;i>o;o++){for(var s=this.field.inverse(t[o]),a=1,h=0;i>h;h++)o!=h&&(a=this.field.multiply(a,N.addOrSubtract(1,this.field.multiply(t[h],s))));r[o]=this.field.multiply(e.evaluateAt(s),this.field.inverse(a)),n&&(r[o]=this.field.multiply(r[o],s))}return r}},L=function(e,t){if(null==t||0==t.length)throw"System.ArgumentException";this.field=e;var n=t.length;if(n>1&&0==t[0]){for(var i=1;n>i&&0==t[i];)i++;if(i==n)this.coefficients=e.Zero.coefficients;else{this.coefficients=new Array(n-i);for(var r=0;r<this.coefficients.length;r++)this.coefficients[r]=0;for(var o=0;o<this.coefficients.length;o++)this.coefficients[o]=t[i+o]}}else this.coefficients=t;this.__defineGetter__("Zero",function(){return 0==this.coefficients[0]}),this.__defineGetter__("Degree",function(){return this.coefficients.length-1}),this.__defineGetter__("Coefficients",function(){return this.coefficients}),this.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},this.evaluateAt=function(e){if(0==e)return this.getCoefficient(0);var t=this.coefficients.length;if(1==e){for(var n=0,i=0;t>i;i++)n=N.addOrSubtract(n,this.coefficients[i]);return n}var r=this.coefficients[0];for(i=1;t>i;i++)r=N.addOrSubtract(this.field.multiply(e,r),this.coefficients[i]);return r},this.addOrSubtract=function(t){if(this.field!=t.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return t;if(t.Zero)return this;var n=this.coefficients,i=t.coefficients;if(n.length>i.length){var r=n;n=i,i=r}for(var o=[i.length],s=i.length-n.length,a=0;s>a;a++)o[a]=i[a];for(var h=s;h<i.length;h++)o[h]=N.addOrSubtract(n[h-s],i[h]);return new L(e,o)},this.multiply1=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||e.Zero)return this.field.Zero;for(var t=this.coefficients,n=t.length,i=e.coefficients,r=i.length,o=new Array(n+r-1),s=0;n>s;s++)for(var a=t[s],h=0;r>h;h++)o[s+h]=N.addOrSubtract(o[s+h],this.field.multiply(a,i[h]));return new L(this.field,o)},this.multiply2=function(e){if(0==e)return this.field.Zero;if(1==e)return this;for(var t=this.coefficients.length,n=new Array(t),i=0;t>i;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new L(this.field,n)},this.multiplyByMonomial=function(e,t){if(0>e)throw"System.ArgumentException";if(0==t)return this.field.Zero;for(var n=this.coefficients.length,i=new Array(n+e),r=0;r<i.length;r++)i[r]=0;for(var o=0;n>r;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new L(this.field,i)},this.divide=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(e.Zero)throw"Divide by 0";for(var t=this.field.Zero,n=this,i=e.getCoefficient(e.Degree),r=this.field.inverse(i);n.Degree>=e.Degree&&!n.Zero;){var o=n.Degree-e.Degree,s=this.field.multiply(n.getCoefficient(n.Degree),r),a=e.multiplyByMonomial(o,s),h=this.field.buildMonomial(o,s);t=t.addOrSubtract(h),n=n.addOrSubtract(a)}return[t,n]}},N=function(e){this.expTable=[256],this.logTable=[256];for(var t=1,n=0;256>n;n++)this.expTable[n]=t,t<<=1,t>=256&&(t^=e);for(n=0;255>n;n++)this.logTable[this.expTable[n]]=n;var i=[1];i[0]=0,this.zero=new L(this,[i]);var r=[1];r[0]=1,this.one=new L(this,[r]),this.__defineGetter__("Zero",function(){return this.zero}),this.__defineGetter__("One",function(){return this.one}),this.buildMonomial=function(e,t){if(0>e)throw"System.ArgumentException";if(0==t)return zero;var i=[e+1];for(n=0;n<i.length;n++)i[n]=0;return i[0]=t,new L(this,i)},this.exp=function(e){return this.expTable[e]},this.log=function(e){if(0==e)throw"System.ArgumentException";return this.logTable[e]},this.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this.expTable[255-this.logTable[e]]},this.multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this.expTable[(this.logTable[e]+this.logTable[t])%255]}};N.QR_CODE_FIELD=new N(285),N.DATA_MATRIX_FIELD=new N(301),N.addOrSubtract=function(e,t){return e^t};var O={rsDecoder:new G(N.QR_CODE_FIELD),correctErrors:function(e,t){for(var n=e.length,i=[n],r=0;n>r;r++)i[r]=255&e[r];var o=e.length-t;try{O.rsDecoder.decode(i,o)}catch(s){throw s}for(var a=0;t>a;a++)e[a]=i[a]},decode:function(e){for(var t=new E(e),n=t.readVersion(),i=t.readFormatInformation().ErrorCorrectionLevel,r=t.readCodewords(),o=k.getDataBlocks(r,n,i),s=0,a=0;a<o.length;a++)s+=o[a].NumDataCodewords;for(var h=new Array(s),f=0,u=0;u<o.length;u++){var w=o[u],l=w.Codewords,c=w.NumDataCodewords;O.correctErrors(l,c);for(var d=0;c>d;d++)h[f++]=l[d]}return new Y(h,n.VersionNumber,i.Bits)}},T={imagedata:null,width:0,height:0,qrCodeSymbol:null,debug:!1,maxImgSize:1048576,sizeOfDataLengthInfo:[[10,9,8,8],[12,11,16,10],[14,13,16,12]],callback:null,decode:function(e){if(0==arguments.length){var t=document.getElementById("qr-canvas"),n=t.getContext("2d");return T.width=t.width,T.height=t.height,T.imagedata=n.getImageData(0,0,T.width,T.height),T.result=T.process(n),null!=T.callback&&T.callback(T.result),T.result}var i=new Image;i.onload=function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=i.height,r=i.width;if(i.width*i.height>T.maxImgSize){var o=i.width/i.height;n=Math.sqrt(T.maxImgSize/o),r=o*n}e.width=r,e.height=n,t.drawImage(i,0,0,e.width,e.height),T.width=e.width,T.height=e.height;try{T.imagedata=t.getImageData(0,0,e.width,e.height)}catch(s){return T.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=T.callback&&T.callback(T.result))}try{T.result=T.process(t)}catch(s){console.log(s),T.currentStatus=0,T.result="error decoding QR Code"}null!=T.callback&&T.callback(T.result)},i.src=e},isUrl:function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)},decode_url:function(e){var t="";try{t=escape(e)}catch(n){console.log(n),t=e}var i="";try{i=decodeURIComponent(t)}catch(n){console.log(n),i=t}return i},decode_utf8:function(e){return T.isUrl(e)?T.decode_url(e):e},process:function(e){var t=(new Date).getTime(),n=T.grayScaleToBitmap(T.grayscale());if(T.debug){for(var i=0;i<T.height;i++)for(var r=0;r<T.width;r++){var o=4*r+i*T.width*4;T.imagedata.data[o]=n[r+i*T.width]?0:0,T.imagedata.data[o+1]=n[r+i*T.width]?0:0,T.imagedata.data[o+2]=n[r+i*T.width]?255:0}e.putImageData(T.imagedata,0,0)}var s=new l(n),a=s.detect();T.debug&&e.putImageData(T.imagedata,0,0);for(var h=O.decode(a.bits),f=h.DataByte,u="",w=0;w<f.length;w++)for(var c=0;c<f[w].length;c++)u+=String.fromCharCode(f[w][c]);var d=(new Date).getTime(),g=d-t;return console.log(g),T.currentStatus=g,T.decode_utf8(u)},getPixel:function(e,t){if(T.width<e)throw"point error";if(T.height<t)throw"point error";var n=4*e+t*T.width*4;return(33*T.imagedata.data[n]+34*T.imagedata.data[n+1]+33*T.imagedata.data[n+2])/100},binarize:function(e){for(var t=new Array(T.width*T.height),n=0;n<T.height;n++)for(var i=0;i<T.width;i++){var r=T.getPixel(i,n);t[i+n*T.width]=e>=r?!0:!1}return t},getMiddleBrightnessPerArea:function(e){for(var t=4,n=Math.floor(T.width/t),i=Math.floor(T.height/t),r=new Array(t),o=0;t>o;o++){r[o]=new Array(t);for(var s=0;t>s;s++)r[o][s]=[0,0]}for(var a=0;t>a;a++)for(var h=0;t>h;h++){r[h][a][0]=255;for(var f=0;i>f;f++)for(var u=0;n>u;u++){var w=e[n*h+u+(i*a+f)*T.width];w<r[h][a][0]&&(r[h][a][0]=w),w>r[h][a][1]&&(r[h][a][1]=w)}}for(var l=[t],c=0;t>c;c++)l[c]=[t];for(var d=0;t>d;d++)for(var g=0;t>g;g++)l[g][d]=Math.floor((r[g][d][0]+r[g][d][1])/2);return l},grayScaleToBitmap:function(e){for(var t=T.getMiddleBrightnessPerArea(e),n=t.length,i=Math.floor(T.width/n),r=Math.floor(T.height/n),o=new Array(T.height*T.width),s=0;n>s;s++)for(var a=0;n>a;a++)for(var h=0;r>h;h++)for(var f=0;i>f;f++)o[i*a+f+(r*s+h)*T.width]=e[i*a+f+(r*s+h)*T.width]<t[a][s]?!0:!1;return o},grayscale:function(){for(var e=[T.width*T.height],t=0;t<T.height;t++)for(var n=0;n<T.width;n++)e[n+t*T.width]=T.getPixel(n,t);return e},orderBestPatterns:function(e){function t(e,t){var n=e.X-t.X,i=e.Y-t.Y;return Math.sqrt(n*n+i*i)}function n(e,t,n){var i=t.x,r=t.y;return(n.x-i)*(e.y-r)-(n.y-r)*(e.x-i)}var i,r,o,s=t(e[0],e[1]),a=t(e[1],e[2]),h=t(e[0],e[2]);if(a>=s&&a>=h?(r=e[0],i=e[1],o=e[2]):h>=a&&h>=s?(r=e[1],i=e[0],o=e[2]):(r=e[2],i=e[0],o=e[1]),n(i,r,o)<0){var f=i;i=o,o=f}e[0]=i,e[1]=r,e[2]=o}},Q=function(e,t,n){var i=e.slice((n||t)+1||e.length);return e.length=0>t?e.length+t:t,e.push.apply(e,i)},z=function(e,t,n){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=n,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return this.x}),this.__defineGetter__("Y",function(){return this.y}),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var i=Math.abs(e-this.estimatedModuleSize);return 1>=i||i/this.estimatedModuleSize<=1}return!1}},U=function(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2],this.__defineGetter__("BottomLeft",function(){return this.bottomLeft}),this.__defineGetter__("TopLeft",function(){return this.topLeft}),this.__defineGetter__("TopRight",function(){return this.topRight})},V=function(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=[0,0,0,0,0],this.resultPointCallback=null,this.__defineGetter__("CrossCheckStateCount",function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}),this.foundPatternCross=function(e){for(var t=0,n=0;5>n;n++){var i=e[n];if(0==i)return!1;t+=i}if(7>t)return!1;var o=Math.floor((t<<r)/7),s=Math.floor(o/2);return Math.abs(o-(e[0]<<r))<s&&Math.abs(o-(e[1]<<r))<s&&Math.abs(3*o-(e[2]<<r))<3*s&&Math.abs(o-(e[3]<<r))<s&&Math.abs(o-(e[4]<<r))<s},this.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},this.crossCheckVertical=function(e,t,n,i){for(var r=this.image,o=T.height,s=this.CrossCheckStateCount,a=e;a>=0&&r[t+a*T.width];)s[2]++,a--;if(0>a)return 0/0;for(;a>=0&&!r[t+a*T.width]&&s[1]<=n;)s[1]++,a--;if(0>a||s[1]>n)return 0/0;for(;a>=0&&r[t+a*T.width]&&s[0]<=n;)s[0]++,a--;if(s[0]>n)return 0/0;for(a=e+1;o>a&&r[t+a*T.width];)s[2]++,a++;if(a==o)return 0/0;for(;o>a&&!r[t+a*T.width]&&s[3]<n;)s[3]++,a++;if(a==o||s[3]>=n)return 0/0;for(;o>a&&r[t+a*T.width]&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return 0/0;var h=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(h-i)>=2*i?0/0:this.foundPatternCross(s)?this.centerFromEnd(s,a):0/0},this.crossCheckHorizontal=function(e,t,n,i){for(var r=this.image,o=T.width,s=this.CrossCheckStateCount,a=e;a>=0&&r[a+t*T.width];)s[2]++,a--;if(0>a)return 0/0;for(;a>=0&&!r[a+t*T.width]&&s[1]<=n;)s[1]++,a--;if(0>a||s[1]>n)return 0/0;for(;a>=0&&r[a+t*T.width]&&s[0]<=n;)s[0]++,a--;if(s[0]>n)return 0/0;for(a=e+1;o>a&&r[a+t*T.width];)s[2]++,a++;if(a==o)return 0/0;for(;o>a&&!r[a+t*T.width]&&s[3]<n;)s[3]++,a++;if(a==o||s[3]>=n)return 0/0;for(;o>a&&r[a+t*T.width]&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return 0/0;var h=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(h-i)>=i?0/0:this.foundPatternCross(s)?this.centerFromEnd(s,a):0/0},this.handlePossibleCenter=function(e,t,n){var i=e[0]+e[1]+e[2]+e[3]+e[4],r=this.centerFromEnd(e,n),o=this.crossCheckVertical(t,Math.floor(r),e[2],i);if(!isNaN(o)&&(r=this.crossCheckHorizontal(Math.floor(r),Math.floor(o),e[2],i),!isNaN(r))){for(var s=i/7,a=!1,h=this.possibleCenters.length,f=0;h>f;f++){var u=this.possibleCenters[f];if(u.aboutEquals(s,o,r)){u.incrementCount(),a=!0;break}}if(!a){var w=new z(r,o,s);this.possibleCenters.push(w),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1},this.selectBestPatterns=function(){var e=this.possibleCenters.length;if(3>e)throw"Couldn't find enough finder patterns";if(e>3){for(var t=0,n=0,i=0;e>i;i++){var r=this.possibleCenters[i].EstimatedModuleSize;t+=r,n+=r*r}var o=t/e;this.possibleCenters.sort(function(e,t){var n=Math.abs(t.EstimatedModuleSize-o),i=Math.abs(e.EstimatedModuleSize-o);return i>n?-1:n==i?0:1});var s=Math.sqrt(n/e-o*o),a=Math.max(.2*o,s);for(i=0;i<this.possibleCenters.length&&this.possibleCenters.length>3;i++){var h=this.possibleCenters[i];console.log(h),Math.abs(h.EstimatedModuleSize-o)>a&&(Q(this.possibleCenters,i),i--)}}return this.possibleCenters.length>3&&this.possibleCenters.sort(function(e,t){return e.count>t.count?-1:e.count<t.count?1:0}),[this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2]]},this.findRowSkip=function(){var e=this.possibleCenters.length;if(1>=e)return 0;for(var t=null,n=0;e>n;n++){var i=this.possibleCenters[n];if(i.Count>=o){if(null!=t)return this.hasSkipped=!0,Math.floor((Math.abs(t.X-i.X)-Math.abs(t.Y-i.Y))/2);t=i}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var e=0,t=0,n=this.possibleCenters.length,i=0;n>i;i++){var r=this.possibleCenters[i];r.Count>=o&&(e++,t+=r.EstimatedModuleSize)}if(3>e)return!1;var s=t/n,a=0;for(i=0;n>i;i++)r=this.possibleCenters[i],a+=Math.abs(r.EstimatedModuleSize-s);return.05*t>=a},this.findFinderPattern=function(e){var t=!1;this.image=e;var r=T.height,o=T.width,s=Math.floor(3*r/(4*i));(n>s||t)&&(s=n);for(var a=!1,h=[5],f=s-1;r>f&&!a;f+=s){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var u=0,w=0;o>w;w++)if(e[w+f*T.width])1==(1&u)&&u++,h[u]++;else if(0==(1&u))if(4==u)if(this.foundPatternCross(h)){var l=this.handlePossibleCenter(h,f,w);if(l)if(s=2,this.hasSkipped)a=this.haveMultiplyConfirmedCenters();else{var c=this.findRowSkip();c>h[2]&&(f+=c-h[2]-s,w=o-1)}else{do w++;while(o>w&&!e[w+f*T.width]);w--}u=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,u=3;else h[++u]++;else h[u]++;this.foundPatternCross(h)&&(l=this.handlePossibleCenter(h,f,o),l&&(s=h[0],this.hasSkipped&&(a=haveMultiplyConfirmedCenters())))}var d=this.selectBestPatterns();return T.orderBestPatterns(d),new U(d)}},q=function(e,t,n){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=n,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return Math.floor(this.x)}),this.__defineGetter__("Y",function(){return Math.floor(this.y)}),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var i=Math.abs(e-this.estimatedModuleSize);return 1>=i||i/this.estimatedModuleSize<=1}return!1}},j=function(e,t,n,i,r,o,s){this.image=e,this.possibleCenters=[],this.startX=t,this.startY=n,this.width=i,this.height=r,this.moduleSize=o,this.crossCheckStateCount=[0,0,0],this.resultPointCallback=s,this.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},this.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;3>i;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},this.crossCheckVertical=function(e,t,n,i){var r=this.image,o=T.height,s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var a=e;a>=0&&r[t+a*T.width]&&s[1]<=n;)s[1]++,a--;if(0>a||s[1]>n)return 0/0;for(;a>=0&&!r[t+a*T.width]&&s[0]<=n;)s[0]++,a--;if(s[0]>n)return 0/0;for(a=e+1;o>a&&r[t+a*T.width]&&s[1]<=n;)s[1]++,a++;if(a==o||s[1]>n)return 0/0;for(;o>a&&!r[t+a*T.width]&&s[2]<=n;)s[2]++,a++;if(s[2]>n)return 0/0;var h=s[0]+s[1]+s[2];return 5*Math.abs(h-i)>=2*i?0/0:this.foundPatternCross(s)?this.centerFromEnd(s,a):0/0},this.handlePossibleCenter=function(e,t,n){var i=e[0]+e[1]+e[2],r=this.centerFromEnd(e,n),o=this.crossCheckVertical(t,Math.floor(r),2*e[1],i);if(!isNaN(o)){for(var s=(e[0]+e[1]+e[2])/3,a=this.possibleCenters.length,h=0;a>h;h++){var f=this.possibleCenters[h];if(f.aboutEquals(s,o,r))return new q(r,o,s)}var u=new q(r,o,s);this.possibleCenters.push(u),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(u)}return null},this.find=function(){for(var t=this.startX,r=this.height,o=t+i,s=n+(r>>1),a=[0,0,0],h=0;r>h;h++){var f=s+(0==(1&h)?h+1>>1:-(h+1>>1));a[0]=0,a[1]=0,a[2]=0;for(var u=t;o>u&&!e[u+T.width*f];)u++;for(var w=0;o>u;){if(e[u+f*T.width])if(1==w)a[w]++;else if(2==w){if(this.foundPatternCross(a)){var l=this.handlePossibleCenter(a,f,u);if(null!=l)return l}a[0]=a[2],a[1]=1,a[2]=0,w=1}else a[++w]++;else 1==w&&w++,a[w]++;u++}if(this.foundPatternCross(a)){var l=this.handlePossibleCenter(a,f,o);if(null!=l)return l}}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"}},Y=function(e,t,n){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=e,this.numErrorCorrectionCode=n,9>=t?this.dataLengthMode=0:t>=10&&26>=t?this.dataLengthMode=1:t>=27&&40>=t&&(this.dataLengthMode=2),this.getNextBits=function(e){var t=0;if(e<this.bitPointer+1){for(var n=0,i=0;e>i;i++)n+=1<<i;return n<<=this.bitPointer-e+1,t=(this.blocks[this.blockPointer]&n)>>this.bitPointer-e+1,this.bitPointer-=e,t}if(e<this.bitPointer+1+8){var r=0;for(i=0;i<this.bitPointer+1;i++)r+=1<<i;return t=(this.blocks[this.blockPointer]&r)<<e-(this.bitPointer+1),this.blockPointer++,t+=this.blocks[this.blockPointer]>>8-(e-(this.bitPointer+1)),this.bitPointer=this.bitPointer-e%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}if(e<this.bitPointer+1+16){var r=0,o=0;for(i=0;i<this.bitPointer+1;i++)r+=1<<i;var s=(this.blocks[this.blockPointer]&r)<<e-(this.bitPointer+1);this.blockPointer++;var a=this.blocks[this.blockPointer]<<e-(this.bitPointer+1+8);for(this.blockPointer++,i=0;i<e-(this.bitPointer+1+8);i++)o+=1<<i;o<<=8-(e-(this.bitPointer+1+8));var h=(this.blocks[this.blockPointer]&o)>>8-(e-(this.bitPointer+1+8));return t=s+a+h,this.bitPointer=this.bitPointer-(e-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}return 0},this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},this.getDataLength=function(e){for(var t=0;;){if(e>>t==1)break;t++}return this.getNextBits(T.sizeOfDataLengthInfo[this.dataLengthMode][t])},this.getRomanAndFigureString=function(e){var t=e,n=0,i="",r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];do if(t>1){n=this.getNextBits(11);var o=Math.floor(n/45),s=n%45;i+=r[o],i+=r[s],t-=2}else 1==t&&(n=this.getNextBits(6),i+=r[n],t-=1);while(t>0);return i},this.getFigureString=function(e){var t=e,n=0,i="";do t>=3?(n=this.getNextBits(10),100>n&&(i+="0"),10>n&&(i+="0"),t-=3):2==t?(n=this.getNextBits(7),10>n&&(i+="0"),t-=2):1==t&&(n=this.getNextBits(4),t-=1),i+=n;while(t>0);return i},this.get8bitByteArray=function(e){var t=e,n=0,i=[];do n=this.getNextBits(8),i.push(n),t--;while(t>0);return i},this.getKanjiString=function(e){var t=e,n=0,i="";do{n=getNextBits(13);var r=n%192,o=n/192,s=(o<<8)+r,a=0;a=40956>=s+33088?s+33088:s+49472,i+=String.fromCharCode(a),t--}while(t>0);return i},this.__defineGetter__("DataByte",function(){for(var e=[],t=1,n=2,i=4,r=8;;){var o=this.NextMode();if(0==o){if(e.length>0)break;throw"Empty data block"}if(o!=t&&o!=n&&o!=i&&o!=r)throw"Invalid mode: "+o+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";var s=this.getDataLength(o);if(1>s)throw"Invalid data length: "+s;var a,h,f;switch(o){case t:for(a=this.getFigureString(s),h=new Array(a.length),f=0;f<a.length;f++)h[f]=a.charCodeAt(f);e.push(h);break;case n:for(a=this.getRomanAndFigureString(s),h=[a.length],f=0;f<a.length;f++)h[f]=a.charCodeAt(f);e.push(h);break;case i:var u=this.get8bitByteArray(s);e.push(u);break;case r:a=this.getKanjiString(s),e.push(a)}}return e})};return{qrcode:T}}();